

CREATE TABLE [Departments](
[Id] INT PRIMARY KEY IDENTITY,
[Name] CHAR(50) NOT NULL
)

CREATE TABLE [Categories](
[Id] INT PRIMARY KEY IDENTITY,
[Name] VARCHAR(50) NOT NULL,
[DepartmentId] INT NOT NULL FOREIGN KEY REFERENCES [Departments]([Id])
)

CREATE TABLE [Employees](
[Id] INT PRIMARY KEY IDENTITY,
[FirstName] CHAR(25),
[LastName] CHAR (25),
[Birthdate] DATETIME2,
[Age] INT,
CHECK ([Age] BETWEEN 18 AND 110),
[DepartmentId] INT  FOREIGN KEY REFERENCES [Departments]([Id])
)

CREATE TABLE [Status](
[Id] INT PRIMARY KEY IDENTITY,
[Label] CHAR (30) NOT NULL
)

CREATE TABLE [Users](
[Id] INT PRIMARY KEY IDENTITY,
[Username] CHAR(30) UNIQUE NOT NULL,
[Password] CHAR (50) NOT NULL,
[Name] CHAR (50),
[Birthdate] DATETIME2,
[Age] INT,
CHECK ([Age] BETWEEN 14 AND 110),
[Email] CHAR (50) NOT NULL
)

CREATE TABLE [Reports](
[Id] INT PRIMARY KEY IDENTITY,
[CategoryId] INT NOT NULL FOREIGN KEY REFERENCES [Categories]([Id]),
[StatusId] INT NOT NULL FOREIGN KEY REFERENCES [Status]([Id]),
[OpenDate] DATETIME2 NOT NULL,
[CloseDate] DATETIME2,
[Description] CHAR(200) NOT NULL,
[UserId] INT NOT NULL FOREIGN KEY REFERENCES [Users]([Id]),
[EmployeeId] INT FOREIGN KEY REFERENCES [Employees]([Id])
)
