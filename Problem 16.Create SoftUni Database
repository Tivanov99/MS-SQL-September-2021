CREATE DATABASE [SoftUni]

CREATE TABLE [Towns](
[Id] INT IDENTITY PRIMARY KEY,
[Name] VARCHAR (60) NOT NULL
)


CREATE TABLE [Addresses](
[Id] INT IDENTITY PRIMARY KEY ,
[AddressText] VARCHAR(60) NOT NULL,
[TownId] INT NOT NULL
)
ALTER TABLE [Addresses]
ADD CONSTRAINT FK_TownsID FOREIGN KEY ([TownId]) REFERENCES [Towns]([Id])


CREATE TABLE [Departments](
[Id] INT PRIMARY KEY IDENTITY NOT NULL,
[Name] VARCHAR(30) NOT NULL
)


CREATE TABLE [Employees] (
[Id] INT IDENTITY PRIMARY KEY NOT NULL,
[FirstName] VARCHAR(20) NOT NULL,
[MiddleName] VARCHAR(20) NOT NULL,
[LastName] VARCHAR(20) NOT NULL,
[JobTitle] VARCHAR(30) NOT NULL,
[DepartmentId] INT NOT NULL,
[HireDate] DATETIME2 NOT NULL,
[Salary] DECIMAL NOT NULL,
[AddressId] INT NOT NULL
)

ALTER TABLE [Employees]
ADD CONSTRAINT [FK_AddressId] FOREIGN KEY (AddressId) REFERENCES [Addresses] ([Id])

ALTER TABLE [Employees]
ADD CONSTRAINT FK_DepartmentId FOREIGN KEY ([DepartmentId]) REFERENCES [Departments]([Id])
